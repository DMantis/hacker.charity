---
const { project, index } = Astro.props;
import { paymentMethodsMap } from '../data/payment_methods';
---

<div class="project-card" data-index={index}>
	<h3>{project.name}</h3>
	<p>{project.description}</p>
	<div class="project-links">
		<a href={project.link} target="_blank" rel="noopener" class="project-link">project link</a>
		{project.donation_page && (
			<a href={project.donation_page} target="_blank" rel="noopener" class="project-link donation-link">donate link</a>
		)}
	</div>
	<div class="project-tags">
		{project.tags.map(tag => (
			<span class="project-tag">{tag}</span>
		))}
	</div>
	<div class="payment-methods">
		{project.payment_methods.map(method => (
			<span class="payment-method">
				{paymentMethodsMap[method].icon ? <svg class="payment-icon"><use xlink:href={`/icon-sprite.svg#icon-${paymentMethodsMap[method].icon}`}></use></svg> : null}
				{paymentMethodsMap[method].name}
			</span>
		))}
	</div>
</div>

<style>
	.project-links {
		display: flex;
		gap: 10px;
		margin-bottom: 10px;
	}

	.project-link {
		font-size: 0.9em;
		color: #007bff;
		text-decoration: none;
	}

	.project-link:hover {
		text-decoration: underline;
	}

	.donation-link {
		color: #28a745;
	}
</style>
